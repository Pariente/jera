<%= render partial: 'shared/navbar' %>
<div class="content-flex">
  <h1>Dernières publications</h1>
  <hr>
  <% @friend_requests.each do |f| %>
    <%= render partial: 'shared/friend_request', locals: {f: f} %>
  <% end %>
  <% if @fresh == [] && @recommendations == [] && @responses == [] %>
    <span class="empty-message">Vous êtes parfaitement à jour. 😌</span>
    <span class="empty-message">Pourquoi ne pas consulter votre récolte si vous en avez le temps ? 👩‍🌾</span>
  <% else %>
    <% @recommendations.each do |r| %>
      <% cache "recommendation-#{r.id}" do %>
        <%= render partial: 'shared/recommendation', locals: {e: r.entry, r: r} %>
      <% end %>
    <% end %>
    <% @responses.each do |r| %>
      <% cache "recommendation-#{r.id}" do %>
        <%= render partial: 'shared/recommendation', locals: {e: r.entry, r: r} %>
      <% end %>
    <% end %>
    <% @fresh.each do |e| %>
      <% cache "entry-#{e.id}" do %>
        <%= render partial: 'shared/fruit', locals: {e: e} %>
      <% end %>
    <% end %>
  <% end %>
</div>